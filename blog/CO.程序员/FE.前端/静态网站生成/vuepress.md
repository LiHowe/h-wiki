# ä½¿ç”¨VuePressæ„å»ºä¸ªäººåšå®¢

æœ¬æ–‡æ•™ç¨‹ä½¿ç”¨`vuepress v2.0.0-beta.26`

2.xä¸1.xçš„ç”¨æ³•åŸºæœ¬ç›¸è¿‘, ä½†æ˜¯æ’ä»¶å’Œä¸»é¢˜æ— æ³•å…±ç”¨(å¦‚Vue2.x ä¸ Vue3.x)

## ä¸ºä»€ä¹ˆè¦å‡çº§2.x

1. æƒ³è¦ä½¿ç”¨Vue3è¯­æ³•å’ŒTypeScriptçš„è¯
2. å•çº¯æƒ³å°é²œï¼Œæ‹¥æŠ±å˜åŒ–
3. æƒ³ä½¿ç”¨`webpack`æˆ–è€…`vite`æ¥ä½œä¸ºæ‰“åŒ…å·¥å…·

## åŸºæœ¬ä½¿ç”¨

1. åˆ›å»ºå¹¶åˆå§‹åŒ–é¡¹ç›®

```shell
mkdir vuepress-demo
cd vuepress-demo
git init
yarn init
```

2. å®‰è£…Vuepress
   
```shell
  yarn add -D vuepress@next
```

3. åˆ›å»ºä¸€ç¯‡markdownæ–‡æ¡£

è¿™é‡Œæˆ‘ä»¬åœ¨`docs`æ–‡ä»¶å¤¹ä¸‹è¿›è¡Œåˆ›å»ºï¼ˆå¯ä»¥è‡ªè¡Œå‘½åæ–‡ä»¶å¤¹ï¼‰, å¯ä»¥æ‰‹åŠ¨è¿›è¡Œåˆ›å»ºï¼Œ ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹é¢å‘½ä»¤å¿«é€Ÿåˆ›å»º

```shell
echo '# Hello VuePress' >> docs/README.md
```

4. åœ¨`package.json`çš„`scripts`ä¸­æ·»åŠ å¯åŠ¨ä»¥åŠæ‰“åŒ…å‘½ä»¤é…ç½®

> è¿™é‡Œ docs å¯¹åº”ç¬¬3æ­¥ä½ æ‰€åˆ›å»ºçš„æ–‡ä»¶å¤¹åç§°

```json
{
  "scripts": {
    "docs:dev": "vuepress dev docs",
    "docs:build": "vuepress build docs"
  }
}
```

5. å¯åŠ¨æœ¬åœ°æœåŠ¡è¿›è¡Œæµ‹è¯•
   
```shell
yarn docs:dev
```

VuePressä¼šåœ¨ http://localhost:8080 å¯åŠ¨ä¸€ä¸ªå¼€å‘æœåŠ¡å™¨ï¼Œ æ”¯æŒçƒ­é‡è½½ã€‚



## ç›®å½•ç»“æ„

```text
.
â”œâ”€â”€ docs
â”‚   â”œâ”€â”€ .vuepress (å¯é€‰çš„, ç”¨äºå­˜æ”¾å…¨å±€çš„é…ç½®ã€ç»„ä»¶ã€é™æ€èµ„æºç­‰ã€‚)
â”‚   â”‚   â”œâ”€â”€ components (å¯é€‰çš„, è¯¥ç›®å½•ä¸­çš„ Vue ç»„ä»¶å°†ä¼šè¢«è‡ªåŠ¨æ³¨å†Œä¸ºå…¨å±€ç»„ä»¶)
â”‚   â”‚   â”œâ”€â”€ theme (å¯é€‰çš„, ç”¨äºå­˜æ”¾æœ¬åœ°ä¸»é¢˜)
â”‚   â”‚   â”‚   â””â”€â”€ Layout.vue
â”‚   â”‚   â”œâ”€â”€ public (å¯é€‰çš„, é™æ€èµ„æºç›®å½•)
â”‚   â”‚   â”œâ”€â”€ styles (å¯é€‰çš„, ç”¨äºå­˜æ”¾æ ·å¼ç›¸å…³çš„æ–‡ä»¶)
â”‚   â”‚   â”‚   â”œâ”€â”€ index.styl (å°†ä¼šè¢«è‡ªåŠ¨åº”ç”¨çš„å…¨å±€æ ·å¼æ–‡ä»¶ï¼Œä¼šç”Ÿæˆåœ¨æœ€ç»ˆçš„ CSS æ–‡ä»¶ç»“å°¾ï¼Œå…·æœ‰æ¯”é»˜è®¤æ ·å¼æ›´é«˜çš„ä¼˜å…ˆçº§ã€‚)
â”‚   â”‚   â”‚   â””â”€â”€ palette.styl (ç”¨äºé‡å†™é»˜è®¤é¢œè‰²å¸¸é‡ï¼Œæˆ–è€…è®¾ç½®æ–°çš„ stylus é¢œè‰²å¸¸é‡ã€‚)
â”‚   â”‚   â”œâ”€â”€ templates (å¯é€‰çš„, è°¨æ…é…ç½®, å­˜å‚¨ HTML æ¨¡æ¿æ–‡ä»¶)
â”‚   â”‚   â”‚   â”œâ”€â”€ dev.html (ç”¨äºå¼€å‘ç¯å¢ƒçš„ HTML æ¨¡æ¿æ–‡ä»¶)
â”‚   â”‚   â”‚   â””â”€â”€ ssr.html (æ„å»ºæ—¶åŸºäº Vue SSR çš„ HTML æ¨¡æ¿æ–‡ä»¶)
â”‚   â”‚   â”œâ”€â”€ config.ts (å¯é€‰çš„, é…ç½®æ–‡ä»¶çš„å…¥å£æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥æ˜¯ YML æˆ– toml)
â”‚   â”‚   â””â”€â”€ enhanceApp.js (å¯é€‰çš„, å®¢æˆ·ç«¯åº”ç”¨çš„å¢å¼º)
â”‚   â”‚ 
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ guide
â”‚   â”‚   â””â”€â”€ README.md
â”‚   â””â”€â”€ config.md
â”‚ 
â””â”€â”€ package.json
```



## ä¸»é¢˜çš„ä½¿ç”¨åŠå¼€å‘

åœ¨`config.ts`ä¸­é…ç½®`theme`å±æ€§æ¥ä½¿ç”¨è‡ªå®šä¹‰ä¸»é¢˜

è‡ªå®šä¹‰ä¸»é¢˜æ”¾ç½®åœ¨`ğŸ“‚.vuepress/theme`æ–‡ä»¶å¤¹ä¸‹

```typescript
export default {
  theme: path.resolve(__dirname, './theme/index.ts')
}
```

### [å¼€å‘è‡ªå®šä¹‰ä¸»é¢˜](https://v2.vuepress.vuejs.org/zh/reference/theme-api.html)

1. åœ¨`ğŸ“‚.vuepress/theme`æ–‡ä»¶å¤¹ä¸‹æ–°å»º`index.ts`ä½œä¸ºä¸»é¢˜é…ç½®æ–‡ä»¶

   ```typescript
   import { path } from '@vuepress/utils'
   export default {
     name: 'vuepress-theme-demo', // ä¸»é¢˜å‰ç¼€ä¸ºvuepress-theme-
     extends: '@vuepress/theme-default', // ç»§æ‰¿é»˜è®¤ä¸»é¢˜(å¯é€‰)
     layouts: path.resolve(__dirname, './layouts'), // æŒ‡å®šä¸»é¢˜å¸ƒå±€ç»„ä»¶æ–‡ä»¶å¤¹
   }
   ```

2. åœ¨`ğŸ“‚.vuepress/theme`ä¸‹æ–°å»º`layouts`æ–‡ä»¶å¤¹æ¥å­˜æ”¾ä¸»é¢˜å¸ƒå±€ç»„ä»¶

   > è‡ªå®šä¹‰ä¸»é¢˜çš„layoutsä¸‹å¿…é¡»å«æœ‰ `Layout.vue` å’Œ `404.vue`

## æ’ä»¶çš„ä½¿ç”¨åŠå¼€å‘

#### æ’ä»¶ç”¨æ³•

åœ¨`.vuepress/config.ts`æ–‡ä»¶ä¸­é…ç½®`plugins`å­—æ®µæ¥ä½¿ç”¨æ’ä»¶, é…ç½®æ–¹æ³•æœ‰ä»¥ä¸‹å‡ ç§

1. æœ¬åœ°æ’ä»¶å¯ä»¥ä½¿ç”¨ä½¿ç”¨`plugins: [require(./my-plugin.js)]`æ–¹å¼
2. å‘å¸ƒåˆ°npmçš„æ’ä»¶ä½¿ç”¨`plugins: ['xxx']`æ–¹å¼
3. å¦‚æœå‘å¸ƒåˆ°npmçš„æ’ä»¶ä»¥`vuepress-plugin-`å¼€å¤´, åˆ™å¯ä»¥çœç•¥å‰ç¼€ç›´æ¥ä½¿ç”¨, æ¯”å¦‚`vuepress-plugin-xxx`å¯ä»¥ç›´æ¥ç”¨`plugins: ['xxx']`çš„æ–¹å¼ä½¿ç”¨

#### active-header-links

é¡µé¢æ»šåŠ¨çš„æ—¶å€™è‡ªåŠ¨é«˜äº®TOCå¯¹åº”é“¾æ¥



## å¸¸è§éœ€æ±‚ä»¥åŠæ–¹æ¡ˆ

### 1. è¦†ç›–é»˜è®¤ä¸»é¢˜æ ·å¼



### 2. ä½¿ç”¨è‡ªå®šä¹‰`frontmatter`å˜é‡

**æ·»åŠ :** åœ¨markdownæ–‡ä»¶ä¸Šæ–¹çš„`frontmatter`åŒºåŸŸæ·»åŠ è‡ªå®šä¹‰çš„å˜é‡, å¦‚`demo: true`

**ä½¿ç”¨:** åœ¨markdownæ–‡ä»¶ä¸­ä½¿ç”¨`{{ $frontmatter.demo }}`çš„æ–¹å¼æ¥ä½¿ç”¨

